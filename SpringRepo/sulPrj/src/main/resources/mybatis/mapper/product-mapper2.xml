<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ProductMapper">

	
	
	
	<select id="adminList">
	SELECT 
	    P.PRODUCT_NO
	    , T.NAME
	    , P.NAME
	    , TO_CHAR (P.ENROLL_DATE, 'YYYY-MM-DD') AS ENROLL_DATE
	    , P.DEL_YN
	FROM PRODUCT P
	JOIN TYPE T ON T.TYPE_NO = P.TYPE_NO
	ORDER BY PRODUCT_NO DESC
	</select>
	
	<select id="adminDetail">
	SELECT 
	    P.PRODUCT_NO
	    , T.NAME
	    , P.NAME
	    , P.PRICE
	    , P.DEGREE
	    , TO_CHAR (P.ENROLL_DATE, 'YYYY-MM-DD') AS ENROLL_DATE
	    , P.DEL_YN
	FROM PRODUCT P
	JOIN TYPE T ON T.TYPE_NO = P.TYPE_NO
	WHERE PRODUCT_NO = #{productNo}
	</select>
	
	<insert id="adminInsert">
	INSERT INTO PRODUCT(PRODUCT_NO, TYPE_NO, NAME, PRICE, DEGREE, CAPACITY, EXPIRY_DATE, STORAGE, TASTE, APPETIZER) 
	VALUES(SEQ_PRODUCT_NO.NEXTVAL, #{typeNo}, #{name}, #{price}, #{degree}, #{capacity}, #{expiryDate}, #{storage}, #{taste}, #{appetizer})
	</insert>
	
	<update id="adminDelete">
	UPDATE PRODUCT SET DEL_YN = 'Y'
	WHERE PRODUCT_NO = #{productNo}
	</update>
	
	
</mapper>